<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>너나들이 메인페이지</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">

</head>
<body>
<header>
    <div class ="header">
        <div class="logo">
            <img th:src="@{/images/logo.png}" alt="팀 로고"/>

        </div>
        <div class="header-buttons">
            <span class="header-btn1" onclick="goToHerePage()">여기갈까?</span>
            <span class="header-btn2">같이갈까?</span>
            <span class="header-btn3" onclick="goToReviewPage()">후기볼까?</span>
        </div>
        <div class="user-controls">
            <img th:src="@{/images/mypage.png}" alt="마이페이지로 이동"/>

            <img th:src="@{/images/like.png}" alt="찜"/>

    </div>
    <div class="separator"></div>
</header>
<main>
    <div class="search">
        <input type="text" id="searchInput" placeholder="어느 도시로 떠나시나요?"> <!-- 입력 필드 추가 -->
        <button id="searchButton" class="search-button" onclick="searchSpot()">검색</button> <!-- 버튼 텍스트 수정 -->
    </div>


    <div class="background-image">

        <img id="regionImage" th:src="@{/images/train.png}" alt="검색배경 이미지"/>
    </div>

    <div class="menu-bar">
        <div class="menu-img">
            <img th:src="@{/images/Spots.png}"/>
            <img th:src="@{/images/companions.png}"/>
            <img th:src="@{/images/spotsTop10.png}"/>
        </div>

        <span>인기 관광지 TOP 10</span>

        <div class="toptenSpots">
            <!-- 1번부터 5번까지의 게시글 -->
            <div class="left-column">
                <div class="tourist-site" th:each="topten, iterator : ${top}" th:if="${iterator.count <= 5}">
                    <a th:href="@{'/api/spot/' + ${topten.spotId}}" class="spot-link">
                        <p th:text="'[' + ${iterator.count} + '] ' + ${topten.spotName}"></p>
                    </a>
                </div>
            </div>

            <!-- 6번부터 10번까지의 게시글 -->
            <div class="right-column">
                <div class="tourist-site" th:each="topten, iterator : ${top}" th:if="${iterator.count > 5}">
                    <a th:href="@{'/api/spot/' + ${topten.spotId}}" class="spot-link">
                        <p th:text="'[' + ${iterator.count} + '] ' + ${topten.spotName}"></p>
                    </a>
                </div>
            </div>
        </div>
    </div>


    <div class="hotCompanions">

        <img  th:src="@{/images/companionsMark.png}"/>
        <div>
            <span id="title">최근 인기 동행 게시글</span>
        </div>
        <div>
        <span id="content">인기 있는 동행글을 추천받아보세요</span>
        </div>
    </div>

    <div class="tourist-sites1">
        <!-- 관광지 리스트가 여기에 표시됩니다. -->
        <div class="tourist-site1" th:each="companion : ${companions}">
            <div class="top-left">
                <p th:text="${companion.userName}"></p>
                <p>
                    <span th:text="${#strings.length(companion.userBirth) > 10 ? #strings.substring(companion.userBirth, 0, 10) : companion.userBirth}"></span>
                </p>
            </div>
            <div class="top-right">
                <p>
                    여행기간:
                    <span th:text="${#strings.length(companion.comStart) > 10 ? #strings.substring(companion.comStart, 0, 10) : companion.comStart}"></span>
                    ~
                    <span th:text="${#strings.length(companion.comEnd) > 10 ? #strings.substring(companion.comEnd, 0, 10) : companion.comEnd}"></span>
                </p>
            </div>
            <div class="middle">
<!--                이미지 들어갈 부분-->
            </div>
            <div class="bottom">
                <p th:text="${companion.postTitle}"></p>
                <p th:text="${companion.postContent}"></p>
            </div>
        </div>
    </div>

    <div class="hotSpots">
        <img  th:src="@{/images/spotsMark.png}"/>
        <div>
        <span id="title1">최근 인기 관광지</span>
        </div>
        <div>
        <span id="content1">인기 있는 관광지를 추천받아보세요</span>
        </div>
    </div>

    <div class="tourist-sites2">
        <!-- 관광지 리스트가 여기에 표시됩니다. -->
        <div class="tourist-site2" th:each="spot : ${spots}">
            <img th:if="${not #strings.isEmpty(spot.spotImg)}" th:src="${spot.spotImg}" alt="관광지 이미지">
            <img th:if="${#strings.isEmpty(spot.spotImg)}" src="/images/havenotimage.png" alt="이미지 준비중">
            <p th:text="${spot.spotAddr}"></p>
            <h3 id="spotName2" th:text="${spot.spotName}" onclick="getSpotIdAndNavigate(this)"></h3>
            <p th:text="${#strings.length(spot.spotOverview) > 20 ? #strings.substring(spot.spotOverview,0,20)+'...': spot.spotOverview}"></p>
            <input type="hidden" class="spotId" th:value="${spot.spotId}">
        </div>
    </div>


</main>
<div class="separator"></div>
<footer>
    <div class="footer">
        <div class="footer-logo">
            <img th:src="@{/images/logo.png}" alt="팀 로고"/>
        </div>
        <div class="footer-group">
            <div class="data">
                <span>데이터 제공 : 한국관광공사 TourAPI</span>
            </div>
            <div class="icon-made">
                <span>아이콘 제작자: Freepik - Flaticon</span>
            </div>
        </div>
        <div class="github-link">
            <a href="https://github.com/oreumi4-final-project-team3/neonaduri">
                <img th:src="@{/images/github.png}" alt="깃허브로 이동"/>
        </div>
    </div>
</footer>
</body>
<script src="/js/main.js" defer></script>

</html>

